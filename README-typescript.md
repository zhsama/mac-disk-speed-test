# Macç¡¬ç›˜é€Ÿåº¦æµ‹è¯•å·¥å…· - TypeScriptç‰ˆ

ä¸€ä¸ªç”¨äºæµ‹è¯•Macç³»ç»Ÿç¡¬ç›˜è¯»å†™é€Ÿåº¦çš„TypeScript/Node.jså·¥å…·ï¼ŒåŸºäºåŸShellè„šæœ¬é‡æ„è€Œæˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” è‡ªåŠ¨è¯†åˆ«Macä¸‹çš„ç¡¬ç›˜æŒ‚è½½æƒ…å†µ
- ğŸ“Š äº¤äº’å¼ç¡¬ç›˜å’Œæ–‡ä»¶å¤§å°é€‰æ‹©
- ğŸ¯ å¯è§†åŒ–è¿›åº¦æ¡æ˜¾ç¤ºæµ‹è¯•è¿›åº¦
- ğŸ”„ è¿›è¡Œä¸‰æ¬¡æµ‹é€Ÿå¹¶è®¡ç®—å¹³å‡å€¼
- ğŸ“ æ”¯æŒå¤šç§æµ‹è¯•æ–‡ä»¶å¤§å°ï¼ˆ1GBã€5GBã€10GBï¼‰
- ğŸ§¹ è‡ªåŠ¨æ¸…ç†æµ‹é€Ÿä½¿ç”¨çš„ä¸´æ—¶æ–‡ä»¶
- ğŸ¨ å½©è‰²è¾“å‡ºï¼Œç”¨æˆ·ä½“éªŒå‹å¥½
- ğŸ“ è‡ªåŠ¨ä¿å­˜æµ‹è¯•ç»“æœåˆ°æ—¥å¿—æ–‡ä»¶
- âš¡ TypeScriptç±»å‹å®‰å…¨
- ğŸ›¡ï¸ å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ•è·

## ç³»ç»Ÿè¦æ±‚

- macOSç³»ç»Ÿ
- Node.js >= 16.0.0
- ç®¡ç†å‘˜æƒé™ï¼ˆç”¨äºæ¸…é™¤ç³»ç»Ÿç¼“å­˜ï¼‰
- è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘æ˜¯æµ‹è¯•æ–‡ä»¶å¤§å°çš„2å€ï¼‰

## å®‰è£…å’Œä½¿ç”¨

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. ç¼–è¯‘TypeScript

```bash
npm run build
```

### 3. è¿è¡Œç¨‹åº

```bash
# ç”Ÿäº§æ¨¡å¼
npm start

# å¼€å‘æ¨¡å¼ï¼ˆç›´æ¥è¿è¡ŒTypeScriptï¼‰
npm run dev

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
npm start -- --help
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ index.ts              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ types.ts              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ testEngine.ts     # æµ‹è¯•å¼•æ“æ ¸å¿ƒé€»è¾‘
â”‚   â””â”€â”€ logger.ts         # æ—¥å¿—ç®¡ç†å™¨
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ logger.ts         # å½©è‰²æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ progress.ts       # è¿›åº¦æ¡å·¥å…·
â”‚   â””â”€â”€ system.ts         # ç³»ç»Ÿå·¥å…·ç±»
â””â”€â”€ ui/
    â””â”€â”€ interface.ts      # ç”¨æˆ·ç•Œé¢äº¤äº’
```

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **TestEngine**: ç¡¬ç›˜é€Ÿåº¦æµ‹è¯•å¼•æ“
   - æ‰§è¡Œå†™å…¥/è¯»å–æµ‹è¯•
   - è¿›åº¦ç›‘æ§å’Œæ˜¾ç¤º
   - ä¸´æ—¶æ–‡ä»¶ç®¡ç†

2. **SystemUtils**: ç³»ç»Ÿå·¥å…·ç±»
   - ç¡¬ç›˜ä¿¡æ¯è·å–
   - ç³»ç»Ÿç¯å¢ƒæ£€æŸ¥
   - æ–‡ä»¶æ“ä½œå·¥å…·

3. **UserInterface**: ç”¨æˆ·äº¤äº’ç•Œé¢
   - äº¤äº’å¼é€‰æ‹©èœå•
   - é…ç½®ç¡®è®¤
   - ç»“æœå±•ç¤º

4. **TestLogger**: æµ‹è¯•ç»“æœæ—¥å¿—ç®¡ç†
   - ç»“æœä¿å­˜
   - æ€§èƒ½è¯„ä¼°
   - å»ºè®®ç”Ÿæˆ

### ç±»å‹å®‰å…¨

ä½¿ç”¨TypeScriptæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼š

```typescript
interface DiskInfo {
  mountPoint: string;
  size: string;
  available: string;
  device: string;
  type: string;
  filesystem: string;
}

interface TestResult {
  round: number;
  writeSpeed: number; // MB/s
  readSpeed: number;  // MB/s
}
```

## è¿›åº¦æ¡è®¾è®¡

TypeScriptç‰ˆæœ¬çš„è¿›åº¦æ¡å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

- **å®æ—¶é€Ÿåº¦æ˜¾ç¤º**: æ˜¾ç¤ºå½“å‰ä¼ è¾“é€Ÿåº¦ï¼ˆMB/sï¼‰
- **é¢„è®¡å‰©ä½™æ—¶é—´**: æ™ºèƒ½è®¡ç®—ETA
- **å¯è§†åŒ–è¿›åº¦**: ä½¿ç”¨Unicodeå­—ç¬¦åˆ›å»ºè¿›åº¦æ¡
- **å¹³æ»‘æ›´æ–°**: æ¯100msæ›´æ–°ä¸€æ¬¡

```typescript
class ProgressBar {
  update(current: number): void;
  complete(): void;
  reset(): void;
}
```

## é”™è¯¯å¤„ç†

å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

- **ç³»ç»Ÿæ£€æŸ¥**: éªŒè¯macOSç¯å¢ƒå’Œå¿…è¦å‘½ä»¤
- **æƒé™æ£€æŸ¥**: ç¡®ä¿æœ‰è¶³å¤Ÿæƒé™æ‰§è¡Œæµ‹è¯•
- **ç©ºé—´æ£€æŸ¥**: éªŒè¯ç£ç›˜å¯ç”¨ç©ºé—´
- **å¼‚å¸¸æ•è·**: å…¨å±€å¼‚å¸¸å¤„ç†å’Œä¼˜é›…é€€å‡º
- **ä¿¡å·å¤„ç†**: æ”¯æŒCtrl+Cä¸­æ–­

## æ—¥å¿—åŠŸèƒ½

è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•æ—¥å¿—ï¼š

```
logs/disk_test_[ç¡¬ç›˜åç§°]_[æ–‡ä»¶å¤§å°]_[æ—¶é—´æˆ³].log
```

æ—¥å¿—å†…å®¹åŒ…æ‹¬ï¼š
- ç³»ç»Ÿä¿¡æ¯ï¼ˆNode.jsç‰ˆæœ¬ã€å†…å­˜ç­‰ï¼‰
- ç¡¬ç›˜è¯¦ç»†ä¿¡æ¯
- ä¸‰è½®æµ‹è¯•çš„è¯¦ç»†ç»“æœ
- å¹³å‡é€Ÿåº¦ç»Ÿè®¡
- æ€§èƒ½è¯„ä¼°å’Œå»ºè®®

## æ€§èƒ½ä¼˜åŒ–

- **å¼‚æ­¥æ“ä½œ**: ä½¿ç”¨Promiseå’Œasync/await
- **è¿›ç¨‹ç®¡ç†**: åˆç†çš„å­è¿›ç¨‹ç®¡ç†
- **å†…å­˜ä¼˜åŒ–**: åŠæ—¶æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- **ç±»å‹ä¼˜åŒ–**: TypeScriptç¼–è¯‘æ—¶ä¼˜åŒ–

## å¼€å‘è„šæœ¬

```bash
# ç¼–è¯‘TypeScript
npm run build

# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# ç”Ÿäº§æ¨¡å¼è¿è¡Œ
npm start

# æ¸…ç†ç¼–è¯‘æ–‡ä»¶
npm run clean

# æµ‹è¯•è¿è¡Œ
npm test
```

## ä¸Shellç‰ˆæœ¬çš„å¯¹æ¯”

| ç‰¹æ€§ | Shellç‰ˆæœ¬ | TypeScriptç‰ˆæœ¬ |
|------|-----------|----------------|
| ç±»å‹å®‰å…¨ | âŒ | âœ… |
| é”™è¯¯å¤„ç† | åŸºç¡€ | å®Œå–„ |
| ä»£ç ç»´æŠ¤æ€§ | ä¸­ç­‰ | ä¼˜ç§€ |
| æ‰©å±•æ€§ | æœ‰é™ | è‰¯å¥½ |
| ä¾èµ–ç®¡ç† | ç³»ç»Ÿå‘½ä»¤ | npmç”Ÿæ€ |
| è·¨å¹³å° | macOS only | å¯æ‰©å±• |
| æµ‹è¯•æ”¯æŒ | æœ‰é™ | å®Œå–„ |

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æƒé™é”™è¯¯**
   ```bash
   sudo npm start
   ```

2. **Node.jsç‰ˆæœ¬è¿‡ä½**
   ```bash
   node --version  # ç¡®ä¿ >= 16.0.0
   ```

3. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

4. **ç¼–è¯‘é”™è¯¯**
   ```bash
   npm run clean
   npm run build
   ```

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªå·¥å…·ï¼

## æŠ€æœ¯æ ˆ

- **TypeScript**: ç±»å‹å®‰å…¨çš„JavaScript
- **Node.js**: JavaScriptè¿è¡Œæ—¶
- **Inquirer**: äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢
- **Chalk**: ç»ˆç«¯é¢œè‰²è¾“å‡º
- **Child Process**: ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ
